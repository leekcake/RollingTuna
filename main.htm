<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>롤링 참치</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet"> 

<!-- Styles -->	
<style>
html, body {
	height: 100%;
}

.example3 {
 height: 100%;	
 overflow: hidden;
 position: relative;
}
.example3 span {
 position: absolute;
 font-family: 'Jua', sans-serif;
 font-size: 65px;
 -webkit-text-stroke: 1px white;
 color: black;
 width: 100%;
 min-height: 100%;
 height: auto%;
 margin: 0;
 text-align: center;
 transform:translateY(100%);
}
</style>
<script type="text/javascript">
//일단 빵바룽보 적어둬야지
var xhr = new XMLHttpRequest();

function startRolling(text) {
	var build = "✿<br>투네이션 후원<br><br>" + text;
	var rolling = document.getElementById('rolling');
	rolling.innerHTML = build
	
	//스크롤 속도 조절, 개행 하나(후원자 한명당) 2초씩 추가됨
	var runTime = (build.match(/\<br\>/g) || []).length * 1500;
	console.log("Duration: " + runTime);
	
	rolling.animate([
		{ transform: 'translateY(100%)' },
		{ transform: 'translateY(-100%)' }
	], {
		duration: runTime
	})
}

xhr.onreadystatechange = function() {
    if (xhr.readyState === xhr.DONE) {
		if(xhr.responseText != 0) {
			startRolling(xhr.responseText);
		}
	}
}

setInterval(function() {
	xhr.open('GET', 'result');
	xhr.send();
}, 1000);

window.onload = function() {
	//스크롤 속도 테스트가 필요할때 //를 때면 바로 표시
	startRolling("카요코<br>세리카<br>아야네<br>하루나<br>하루카<br>파란전기<br>빵룽<br>이오리<br>노노미<br>시로코<br>호시노<br>히나<br>치나츠<br>무츠키<br>세리카<br>아야네<br>하루나<br>하루카<br>파란전기<br>빵룽<br>이오리<br>노노미<br>시로코<br>호시노<br>히나<br>치나츠<br>무츠키<br>세리카<br>아야네<br>하루나<br>하루카<br>파란전기<br>빵룽<br>이오리<br>노노미<br>시로코<br>호시노<br>히나<br>치나츠<br>무츠키");
}
</script>
</head>

<body>
<div class="example3">
<span id="rolling">
</span>
</div>
</body>

</html>